<div class="book-upload-container">
  <h2>Add a New Book</h2>
  <form [formGroup]="bookForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="form-group">
      <label for="name">Book Name</label>
      <input id="name" formControlName="name" type="text" required />
    </div>
    <div class="form-group">
      <label for="title">Book Title</label>
      <input id="title" formControlName="title" type="text" required />
    </div>
    <div class="form-group">
      <label for="price">Book Price</label>
      <input id="price" formControlName="price" type="number" min="0" required />
    </div>
    <div class="form-group">
      <label for="categories">Categories</label>
      <select id="categories" formControlName="categories" multiple>
        <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="image">Book PDF</label>
      <input id="image" type="file" (change)="onFileChange($event)" accept="application/pdf" />
    </div>
    <button type="submit" [disabled]="bookForm.invalid || uploading">Upload Book</button>
    @if (uploading) {
      <div>Uploading...</div>
    }
    @if (uploadError) {
      <div class="error">{{ uploadError }}</div>
    }
    @if (uploadSuccess) {
      <div class="success">Book uploaded successfully!</div>
    }
  </form>
</div>
